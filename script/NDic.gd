class_name NDic  # 类名，全局可引用
extends RefCounted  # 继承RefCounted，支持字典存储，避免内存泄漏

const neighborDic : Dictionary[Vector2i,String] = {
	Vector2i(0, -1) : "↖", Vector2i(1,-1) : "↑", Vector2i(1, 0) : "↗",
	Vector2i(-1,-1) : "←", Vector2i(0, 0) : "·", Vector2i(1, 1) : "→",
	Vector2i(-1, 0) : "↙",Vector2i(-1, 1) : "↓", Vector2i(0, 1) : "↘",  
}

const mirroDic : Dictionary[String,int] = {
	"0↖":1,"0↗":3,
	"1↗":2,"1↘":0,
	"2↘":3,"2↙":1,
	"3↙":0,"3↖":2,
}

#const sidDic : Dictionary[String,int] = {
	#"↖":0, "↑":0, "↗":0,
	#"←":0, "·":0, "→":0,
	#"↙":0, "↓":0, "↘":0,  
#}

const sidDic : Dictionary[String,Array] = {
	"0|0↙0":[0],"0|0↖0":[0],"0|0↗0":[0],"0|0↘0":[0],
	"1|0↙0":[0],"1|0↖0":[0],"1|0↗0":[0],"1|0↘0":[0],
	"2|0↙0":[0],"2|0↖0":[0],"2|0↗0":[0],"2|0↘0":[0],
	"3|0↙0":[0],"3|0↖0":[0],"3|0↗0":[0],"3|0↘0":[0],
	
	"0|1↙1":[1],"0|1↖1":[1],"0|1↗1":[1],"0|1↘1":[1],
	"1|1↙1":[1],"1|1↖1":[1],"1|1↗1":[1],"1|1↘1":[1],
	"2|1↙1":[1],"2|1↖1":[1],"2|1↗1":[1],"2|1↘1":[1],
	"3|1↙1":[1],"3|1↖1":[1],"3|1↗1":[1],"3|1↘1":[1],

	"0|2↙2":[2],"0|2↖2":[2],"0|2↗2":[2],"0|2↘2":[2],
	"1|2↙2":[2],"1|2↖2":[2],"1|2↗2":[2],"1|2↘2":[2],
	"2|2↙2":[2],"2|2↖2":[2],"2|2↗2":[2],"2|2↘2":[2],
	"3|2↙2":[2],"3|2↖2":[2],"3|2↗2":[2],"3|2↘2":[2],
	
	"0|1↖0":[3,Vector2i(1,0),0],"0|1↗0":[3,Vector2i(2,0),0],
	"1|1↗0":[3,Vector2i(2,0),0],"1|1↘0":[3,Vector2i(0,0),0],
	"2|1↘0":[3,Vector2i(0,0),0],"2|1↙0":[3,Vector2i(0,0),0],
	"3|1↙0":[3,Vector2i(0,0),0],"3|1↖0":[3,Vector2i(1,0),0],
	
	"0|1↖3":[3,Vector2i(0,0),0],"0|1↗3":[3,Vector2i(0,0),0],
	"1|1↗3":[3,Vector2i(0,0),0],"1|1↘3":[3,Vector2i(3,3),0],
	"2|1↘3":[3,Vector2i(3,3),0],"2|1↙3":[3,Vector2i(0,0),0],
	"3|1↙3":[3,Vector2i(0,0),0],"3|1↖3":[3,Vector2i(1,3),0],
	
	"0|3↖1":[3,Vector2i(1,0),0],"0|3↗1":[3,Vector2i(2,0),0],
	"1|3↗1":[3,Vector2i(2,0),0],"1|3↘1":[3,Vector2i(0,0),0],
	"2|3↘1":[3,Vector2i(0,0),0],"2|3↙1":[3,Vector2i(0,0),0],
	"3|3↙1":[3,Vector2i(0,0),0],"3|3↖1":[3,Vector2i(0,0),0],

	"0|0↖1":[4,Vector2i(1,0),0],"0|0↗1":[4,Vector2i(2,0),0],
	"1|0↗1":[4,Vector2i(2,0),0],"1|0↘1":[4,Vector2i(0,0),0],
	"2|0↘1":[4,Vector2i(3,3),0],"2|0↙1":[4,Vector2i(0,0),0],
	"3|0↙1":[4,Vector2i(0,0),0],"3|0↖1":[4,Vector2i(1,0),0],
			
	"0|1↖4":[4,Vector2i(1,0),0],"0|1↗4":[4,Vector2i(2,0),0],
	"1|1↗4":[4,Vector2i(2,0),0],"1|1↘4":[4,Vector2i(3,0),0],
	"2|1↘4":[4,Vector2i(3,0),0],"2|1↙4":[4,Vector2i(0,0),0],
	"3|1↙4":[4,Vector2i(0,0),0],"3|1↖4":[4,Vector2i(1,0),0],
}

const nameDic : Dictionary[Array, Array] = { 
		["0010",0]:[Vector2i(0,0),0], ["0001",0]:[Vector2i(1,0),0], ["1000",0]:[Vector2i(2,0),0], ["0100",0]:[Vector2i(3,0),0],
		["0011",0]:[Vector2i(0,1),0], ["1001",0]:[Vector2i(1,1),0], ["1100",0]:[Vector2i(2,1),0], ["0110",0]:[Vector2i(3,1),0],
		["1010",0]:[Vector2i(0,2),0], ["0101",0]:[Vector2i(1,2),0], ["1110",0]:[Vector2i(2,2),0], ["0111",0]:[Vector2i(2,3),0],
		["1011",0]:[Vector2i(0,3),0], ["1101",0]:[Vector2i(1,3),0], ["1111",0]:[Vector2i(2,3),0], ["0000",0]:[Vector2i(3,3),0],

		["0010",1]:[Vector2i(0,0),0], ["0001",1]:[Vector2i(1,0),0], ["1000",1]:[Vector2i(2,0),0], ["0100",1]:[Vector2i(3,0),0],
		["0011",1]:[Vector2i(0,1),0], ["1001",1]:[Vector2i(1,1),0], ["1100",1]:[Vector2i(2,1),0], ["0110",1]:[Vector2i(3,1),0],
		["1010",1]:[Vector2i(0,2),0], ["0101",1]:[Vector2i(1,2),0], ["1110",1]:[Vector2i(2,2),0], ["0111",1]:[Vector2i(3,2),0],
		["1011",1]:[Vector2i(2,3),0], ["1101",1]:[Vector2i(1,3),0], ["1111",1]:[Vector2i(2,3),0], ["0000",1]:[Vector2i(3,3),0],

		["0010",2]:[Vector2i(0,0),0], ["0001",2]:[Vector2i(1,0),0], ["1000",2]:[Vector2i(2,0),0], ["0100",2]:[Vector2i(3,0),0],
		["0011",2]:[Vector2i(0,1),0], ["1001",2]:[Vector2i(1,1),0], ["1100",2]:[Vector2i(2,1),0], ["0110",2]:[Vector2i(3,1),0],
		["1010",2]:[Vector2i(0,2),1], ["0101",2]:[Vector2i(1,2),0], ["1110",2]:[Vector2i(2,2),1], ["0111",2]:[Vector2i(3,2),0],
		["1011",2]:[Vector2i(0,3),1], ["1101",2]:[Vector2i(2,3),0], ["1111",2]:[Vector2i(2,3),0], ["0000",2]:[Vector2i(3,3),0],

		["0010",3]:[Vector2i(0,0),0], ["0001",3]:[Vector2i(1,0),0], ["1000",3]:[Vector2i(2,0),0], ["0100",3]:[Vector2i(3,0),0],
		["0011",3]:[Vector2i(0,1),0], ["1001",3]:[Vector2i(1,1),0], ["1100",3]:[Vector2i(2,1),0], ["0110",3]:[Vector2i(3,1),0],
		["1010",3]:[Vector2i(0,2),0], ["0101",3]:[Vector2i(1,2),1], ["1110",3]:[Vector2i(2,3),0], ["0111",3]:[Vector2i(3,2),1],
		["1011",3]:[Vector2i(0,3),0], ["1101",3]:[Vector2i(1,3),1], ["1111",3]:[Vector2i(2,3),0], ["0000",3]:[Vector2i(3,3),0],
	}
